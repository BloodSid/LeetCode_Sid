package leetcode.editor.cn;
//å°æ‰£å½“å‰ä½äºé­”å¡”æ¸¸æˆç¬¬ä¸€å±‚ï¼Œå…±æœ‰ `N` ä¸ªæˆ¿é—´ï¼Œç¼–å·ä¸º `0 ~ N-1`ã€‚æ¯ä¸ªæˆ¿é—´çš„è¡¥è¡€é“å…·/æ€ªç‰©å¯¹äºè¡€é‡å½±å“è®°äºæ•°ç»„ `nums`ï¼Œå…¶ä¸­æ­£æ•°è¡¨ç¤ºé“å…·è¡¥
//è¡€æ•°å€¼ï¼Œå³è¡€é‡å¢åŠ å¯¹åº”æ•°å€¼ï¼›è´Ÿæ•°è¡¨ç¤ºæ€ªç‰©é€ æˆä¼¤å®³å€¼ï¼Œå³è¡€é‡å‡å°‘å¯¹åº”æ•°å€¼ï¼›`0` è¡¨ç¤ºæˆ¿é—´å¯¹è¡€é‡æ— å½±å“ã€‚
//
//**å°æ‰£åˆå§‹è¡€é‡ä¸º 1ï¼Œä¸”æ— ä¸Šé™**ã€‚å‡å®šå°æ‰£åŸè®¡åˆ’æŒ‰æˆ¿é—´ç¼–å·å‡åºè®¿é—®æ‰€æœ‰æˆ¿é—´è¡¥è¡€/æ‰“æ€ªï¼Œ**ä¸ºä¿è¯è¡€é‡å§‹ç»ˆä¸ºæ­£å€¼**ï¼Œå°æ‰£éœ€å¯¹æˆ¿é—´è®¿é—®é¡ºåºè¿›è¡Œè°ƒæ•´ï¼Œ**æ¯
//æ¬¡ä»…èƒ½å°†ä¸€ä¸ªæ€ªç‰©æˆ¿é—´ï¼ˆè´Ÿæ•°çš„æˆ¿é—´ï¼‰è°ƒæ•´è‡³è®¿é—®é¡ºåºæœ«å°¾**ã€‚è¯·è¿”å›å°æ‰£æœ€å°‘éœ€è¦è°ƒæ•´å‡ æ¬¡ï¼Œæ‰èƒ½é¡ºåˆ©è®¿é—®æ‰€æœ‰æˆ¿é—´ã€‚è‹¥è°ƒæ•´é¡ºåºä¹Ÿæ— æ³•è®¿é—®å®Œå…¨éƒ¨æˆ¿é—´ï¼Œè¯·è¿”å› -1ã€‚
//
//**ç¤ºä¾‹ 1ï¼š**
//
//> è¾“å…¥ï¼š`nums = [100,100,100,-250,-60,-140,-50,-50,100,150]`
//>
//> è¾“å‡ºï¼š`1`
//>
//> è§£é‡Šï¼šåˆå§‹è¡€é‡ä¸º 1ã€‚è‡³å°‘éœ€è¦å°† nums[3] è°ƒæ•´è‡³è®¿é—®é¡ºåºæœ«å°¾ä»¥æ»¡è¶³è¦æ±‚ã€‚
//
//**ç¤ºä¾‹ 2ï¼š**
//
//> è¾“å…¥ï¼š`nums = [-200,-300,400,0]`
//>
//> è¾“å‡ºï¼š`-1`
//>
//> è§£é‡Šï¼šè°ƒæ•´è®¿é—®é¡ºåºä¹Ÿæ— æ³•å®Œæˆå…¨éƒ¨æˆ¿é—´çš„è®¿é—®ã€‚
//
//**æç¤ºï¼š**
//- `1 <= nums.length <= 10^5`
//- `-10^5 <= nums[i] <= 10^5`
//
// ğŸ‘ 92 ğŸ‘ 0


import java.util.*;

/**
 * é­”å¡”æ¸¸æˆ
 *
 * @author IronSid
 * @version 1.0
 * @since 2024-02-06 17:34:00 
 */
public class P0NxJOSolution {
static
//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public int magicTower(int[] nums) {
        // å­˜å‚¨è®¿é—®è¿‡çš„è´Ÿæ•°æˆ¿é—´ï¼Œæœ€å°çš„åœ¨å †é¡¶
        PriorityQueue<Integer> pq = new PriorityQueue<>();
        // å½“å‰è¡€é‡
        long sum = 1;
        // æŒªåˆ°ç»“å°¾çš„è¡€é‡ä¹‹å’Œ
        long tailSum = 0;
        int cnt = 0;
        for (int num : nums) {
            sum += num;
            if (num < 0) {
                pq.offer(num);
            }
            if (sum <= 0) {
                // è¡€é‡ä¸è¶³ï¼Œåæ‚”æœ€å°çš„ä¸€æ¬¡æ‰£è¡€
                int poll = pq.poll();
                sum -= poll;
                tailSum += poll;
                cnt++;
            }
        }
        if (sum + tailSum < 0) {
            return -1;
        }
        return cnt;
    }
}
//leetcode submit region end(Prohibit modification and deletion)

}
